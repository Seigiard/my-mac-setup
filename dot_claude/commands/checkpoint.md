---
name: checkpoint
description: |
  Записывает чекпоинт прогресса в дневную заметку. Используй когда хочешь зафиксировать что сделал, как себя чувствуешь, или на чём остановился.

  <example>
  <user>/checkpoint Закончил миграцию на Tailwind</user>
  <assistant>Записал: ~15:45: Закончил миграцию на [[Tailwind]]</assistant>
  </example>

  <example>
  <user>/checkpoint</user>
  <assistant>Что сейчас хочешь зафиксировать?</assistant>
  <user>Разобрался с багом в API</user>
  <assistant>Записал: ~14:30: Разобрался с багом в [[API]]</assistant>
  </example>

  <example>
  <user>/checkpoint Устал, нужен перерыв</user>
  <assistant>Понимаю. Что случилось?</assistant>
  <user>Весь день бился с одной проблемой</user>
  <assistant>Записал: ~17:00: Сложный день, застрял на проблеме. Перерыв.</assistant>
  </example>
disable-model-invocation: true
---

Создать чекпоинт в дневной заметке.

Путь к vault: `/Users/seigiard/Library/CloudStorage/Dropbox/Knowledge Base`

## Использование

```
/checkpoint              # Спросить что записать
/checkpoint [описание]   # Записать с описанием
```

---

## Что делает команда

### 1. Найти дневную заметку

- Путь: `Calendar/YYYY-MM-DD.md` (сегодняшняя дата)
- Если файла нет — создать из шаблона `Extras/_templates/_daily.md`

### 2. Обработать ввод

**Без аргумента:**

- Спросить: "Что сейчас хочешь зафиксировать?"

**С аргументом:**

- Принять описание
- Можно задать 1-2 уточняющих вопроса (не обязательно)

### 3. Уточняющие вопросы (опционально)

**Фокус на:**

- Результат: "Что главное сделал?"
- Процесс: "Как шла работа?"
- Ощущения: "Как себя чувствуешь сейчас?"
- Следующий шаг: "Что дальше?"

**Стиль:**

- Дружественный, поддерживающий
- Как заботливый психолог, не технический специалист
- НЕ спрашивать про файлы, коммиты, технические детали
- Максимум 1-2 вопроса, не надоедать

**Когда спрашивать:**

- Если описание слишком короткое
- Если чувствуется что человек хочет поговорить
- Если непонятен контекст

**Когда НЕ спрашивать:**

- Описание достаточно ясное
- Человек явно торопится
- Это технический чекпоинт без эмоциональной составляющей

### 4. Проверить закрытие дня

- Если `## Day's End` или `## Handoff` уже заполнены — запомнить (день закрыт)
- Продолжить записывать checkpoint

### 5. Записать в `## Checkpoints`

**Формат:**

```markdown
- ~15:45: Описание с [[wiki-links]]
```

**Wiki-links использовать для:**

- Проектов: [[Intuition]], [[Claude Code]]
- Технологий: [[Tailwind]], [[XState]], [[TypeScript]]

**Формат записи:**

- Одна строка
- Короткое, но информативное описание
- Время в 24h формате с тильдой (~)

### 6. Подтвердить

- Показать что записал
- Коротко, без лишних слов

### 7. Обновить закрытый день (если применимо)

**Если день был закрыт (шаг 4):**

1. **Оценить релевантность** — checkpoint меняет картину дня?
   - Значимый прогресс
   - Изменение настроения
   - Новая задача

2. **Обновить Day's End** (если релевантно):
   - Предложить дополнение к synthesis
   - Спросить: "Добавить это в итог дня?"
   - Если да — дописать к существующему synthesis

3. **Предложить пересмотреть Handoff**:
   - "Хочешь обновить Open Threads или Context for Tomorrow?"
   - Если да — показать текущий handoff и спросить что изменить
   - Если нет — оставить как есть

**Стиль:**
- Не навязчиво
- Одно предложение на обновление
- Если checkpoint мелкий — можно не предлагать обновления

---

## Примеры

### Простой чекпоинт

```
User: /checkpoint Закончил миграцию на Tailwind

Claude: Записал в Checkpoints:
        - ~15:45: Закончил миграцию на [[Tailwind]]
```

### С уточнением

```
User: /checkpoint Сделал

Claude: Что именно сделал? Что было главным?

User: Закрыл PR с авторизацией, наконец-то

Claude: Отлично! Как ощущения после?

User: Устал, но доволен

Claude: Записал в Checkpoints:
        - ~16:20: Закрыл PR с [[авторизация|авторизацией]]. Устал, но доволен.
```

### Без аргумента

```
User: /checkpoint

Claude: Что сейчас хочешь зафиксировать?

User: Разобрался с багом в API

Claude: Записал в Checkpoints:
        - ~14:30: Разобрался с багом в [[API]]
```

### Эмоциональный чекпоинт

```
User: /checkpoint Выгорел немного

Claude: Понимаю. Что случилось?

User: Весь день бился с одной проблемой и не продвинулся

Claude: Бывает. Может стоит переключиться на что-то другое?

User: Да, наверное пойду прогуляюсь

Claude: Записал в Checkpoints:
        - ~17:00: Сложный день, застрял на проблеме. Перерыв на прогулку.
```

### После закрытия дня

```
User: /checkpoint Таки починил тот баг!

Claude: Записал в Checkpoints:
        - ~23:15: Починил баг в [[API]]

        День был уже закрыт. Добавить к итогу дня?

User: Да, это важно

Claude: Дополнил Day's End: "...Вечером всё-таки разобрался с багом."

        Обновить Open Threads? Там был этот баг.

User: Да, убери его

Claude: Готово, убрал из Open Threads.
```

---

## Что НЕ делает команда

- ❌ НЕ архивирует транскрипты
- ❌ НЕ считает статистику сессии
- ❌ НЕ обновляет счётчик чекпоинтов
- ❌ НЕ создаёт вложенные записи в Claude Sessions

---

## Заметки

- Чекпоинты — это про рабочий прогресс с лёгким акцентом на самочувствие
- Формат времени: 24h (~15:45)
- Язык: русский
- Wiki-links: проекты + технологии
- Запись всегда одна строка
