---
name: checkpoint
description: |
  Записывает чекпоинт в дневник. Дописывает абзац с мягким временем, не строку с таймстампом.

  <example>
  <user>/checkpoint Закончил миграцию на Tailwind</user>
  <assistant>Записал в Дневник: "Около 4 закончил миграцию на [[Tailwind]], довольно гладко."</assistant>
  </example>

  <example>
  <user>/checkpoint</user>
  <assistant>Что сейчас?</assistant>
  <user>Устал, застрял на баге</user>
  <assistant>Записал. Может перерыв?</assistant>
  </example>
disable-model-invocation: true
---

Создать чекпоинт в дневной заметке.

Путь к vault: `/Users/seigiard/Library/CloudStorage/Dropbox/Knowledge Base`

## Что делает команда

### 0. Определить дату и время

- Выполнить: `date +"%Y-%m-%d %H:%M"`
- Преобразовать в мягкое время:

| Время | Варианты |
|-------|----------|
| 06:00-09:00 | Утром |
| 09:00-12:00 | К 10, Около 11, К полудню |
| 12:00-14:00 | После обеда, К часу |
| 14:00-17:00 | Около 3, Часам к 4, К 5 |
| 17:00-20:00 | Вечером, К 6, Около 7 |
| 20:00+ | Поздно вечером |

### 1. Найти дневную заметку

- `Calendar/YYYY-MM-DD.md`
- Если нет — создать из шаблона

### 2. Обработать ввод

**Без аргумента:**
- "Что сейчас?"

**С аргументом:**
- Принять описание
- Может уточнить про ощущения (1 вопрос макс., не обязательно)

### 3. Уточняющие вопросы (опционально)

| Ситуация | Спрашивать? | Пример |
|----------|:-----------:|--------|
| Описание короткое | ✓ | "Как идёт?" |
| Хочет поговорить | ✓ | "Как себя чувствуешь?" |
| Непонятен контекст | ✓ | "Что дальше?" |
| Описание ясное | ✗ | — |
| Торопится | ✗ | — |
| Технический чекпоинт | ✗ | — |

**Стиль:**
- Дружественный, как заботливый друг
- Максимум 1 вопрос

### 4. Участливость по контексту

- Много чекпоинтов за день: "С утра уже 3 чекпоинта. Как энергия?"
- Долгая пауза после предыдущего: можно мягко спросить о состоянии
- Упоминание усталости: "Может перерыв?"

### 5. Дописать в `## Дневник`

**Формат — абзац с мягким временем:**

```markdown
## Дневник

Около 11 закончил таску по combobox, довольно гладко.
Потом переключился на [[Lexical]] — сложнее, пришлось
разбираться с кастомными нодами. К обеду устал думать.

После обеда вернулся свежим, разобрался с проблемой.
```

**Wiki-links для:**
- Проектов: [[Membrane UI]], [[Bento]]
- Технологий: [[Tailwind]], [[Lexical]], [[TypeScript]]

**Если мало времени с прошлого чекпоинта:**
- Может продолжить предыдущий абзац вместо нового

### 6. Подтвердить

- Показать что записал
- Коротко

### 7. Обновить закрытый день (если применимо)

Если `## Handoff` уже заполнен:
- Записать checkpoint
- Предложить: "День закрыт. Добавить к итогу?"
- Если да — дополнить Handoff

---

## Примеры

### Простой

```
User: /checkpoint Закончил миграцию на Tailwind

Claude: Записал: "К 4 закончил миграцию на [[Tailwind]]."
```

### С уточнением

```
User: /checkpoint Сделал

Claude: Что именно?

User: Закрыл PR с авторизацией

Claude: Как ощущения?

User: Устал, но доволен

Claude: Записал: "К обеду закрыл PR с авторизацией. Устал, но доволен."
```

### Эмоциональный

```
User: /checkpoint Выгорел немного

Claude: Что случилось?

User: Весь день бился с одной проблемой

Claude: Бывает. Перерыв?

User: Да, пойду прогуляюсь

Claude: Записал: "К 5 застрял на проблеме, выгорел. Перерыв на прогулку."
```

---

## Заметки

- Язык: русский
- Мягкое время, не ~15:45
- Wiki-links для проектов и технологий
- Абзацы, не строки со списком
